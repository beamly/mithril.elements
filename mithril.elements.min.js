/*
Mithril.Elements v0.1.4
http://github.com/philtoms/mithril.elements.js
(c) Phil Toms
License: MIT
*/
"use strict";var m=function(a,b){function c(a,b,c){var d="class"in a?"class":"className",e=a[d]||"";return Object.keys(b).forEach(function(d){d.indexOf("class")>=0?e+=" "+b[d]:(c||" ").indexOf(d)<0&&(a[d]=b[d])}),e&&e.trim()&&(a[d]=e.trim()),a}function d(a){this.state=a}var e="[object Array]",f="[object String]",g={}.toString;b=b||require("mithril");var h=b.redraw,i=h.strategy;b.redraw=function(){return"all"===i()&&(j={}),k=0,h.apply(null,arguments)},b.redraw.strategy=i,b.elements={};var j={},k=0,l=function(a,d){var f=a.tag||a,h=[f].concat([].slice.call(arguments,1)),i=b.apply(null,h),l=b.elements[i.tag];if(l&&"$"!==f[0]){d=c(a.attrs||{},i.attrs);var m=d.state,n=a.id||(m&&void 0!==m.id?m.id:void 0!==d.key?d.key:void 0!==d.id?d.id:void 0);n=i.tag+(void 0===n?k++:n);var o=a.id&&a||j[n]||new l.controller(m);j[n]=o;var p=1==i.children.length?i.children[0]:i.children,q=l.view(o,p);q&&(i=q,g.call(i)!==e&&c(i.attrs,d,"state"))}else a.attrs&&c(i.attrs,a.attrs);return i.tag&&"$"===i.tag[0]&&(i.tag=i.tag.substr(1)),i},m=0;return l.element=function(a,c){if(g.call(a)!==f)throw new Error("tag m.element(tag, module) should be a string");return c.controller=c.controller||d,c.instance=function(b){var d=new c.controller(b);return d.tag=a,d.id="$ctrl_"+a+m++,d},b.elements[a]=c},c(l,b)}("undefined"!=typeof window?window:{},m);"undefined"!=typeof module&&null!==module&&module.exports?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m});
//# sourceMappingURL=mithril.elements.min.js.map